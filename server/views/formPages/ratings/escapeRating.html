{% extends "../formTemplate.html" %}

{% from "radios/macro.njk" import govukRadios %}

{% from "warning-text/macro.njk" import govukWarningText %}
{% from "textarea/macro.njk" import govukTextarea %}

{% block formItems %}

<h1 class="govuk-heading-l">Escape rating</h1>

{% if data.escapeProfile.onEscapeList === true %}
{% set warningText %}
This person is on the heightened / standard / escort e-list
{% endset %}
{% endif %}
{% if warningText %}
{{ govukWarningText({
text: warningText,
iconFallbackText: "Warning",
classes: "forms-warning-text"
}) }}
{% endif %}


{% set escapeTextHtml %}

{{ govukTextarea({
  name: "escapeFurtherChargesText",
  type: "escapeFurtherChargesText",
  id: "escapeFurtherChargesText",
  label: {
  text: "Give details of this evidence"
  },
  value: data.escapeFurtherChargesText,
  errorMessage: {
  text: "Please enter details of the evidence"
  } if (errors | findError('escapeFurtherChargesText'))
}) }}

{% endset -%}

{{ govukRadios({
  name: "escapeFurtherCharges",
  classes: "govuk-radios--inline",
  fieldset: {
  legend: {
  text: "Are there any further serious charges against the person that warrant higher security conditions?",
  isPageHeading: false
  }
  },
  errorMessage: {
    text: "Select yes if there any further serious charges against the person that warrant higher security conditions"
    } if (errors | findError('escapeFurtherCharges')),
  items: [
  {
    value: "Yes",
    text: "Yes",
    checked: data.escapeFurtherCharges === 'Yes',
    conditional: {
    html:escapeTextHtml
  }
  },
  {
    value: "No",
    checked: data.escapeFurtherCharges === 'No',
    text: "No"
  }
  ]
}) }}

{% endblock %}

{% extends "../formTemplate.html" %}

{% from "radios/macro.njk" import govukRadios %}

{% from "warning-text/macro.njk" import govukWarningText %}
{% from "textarea/macro.njk" import govukTextarea %}

{% block formItems %}

<h1 class="govuk-heading-l">Risk of escape</h1>

{% if data.escapeProfile.onEscapeList === true %}
{% set warningText %}
This person is on the heightened / standard / escort e-list
{% endset %}
{% endif %}
{% if warningText %}
{{ govukWarningText({
text: warningText,
iconFallbackText: "Warning",
classes: "forms-warning-text"
}) }}
{% endif %}


{% set escapeTextHtml %}

{{ govukTextarea({
  name: "escapeFurtherChargesText",
  type: "escapeFurtherChargesText",
  id: "escapeFurtherChargesText",
  label: {
  text: "Provide details of these charges"
  },
  value: data.escapeFurtherChargesText,
  errorMessage: {
  text: "Please enter details of these charges"
  } if (errors | findError('escapeFurtherChargesText'))
}) }}

{% endset -%}

{{ govukRadios({
  name: "escapeFurtherCharges",
  classes: "govuk-radios--inline",
  fieldset: {
  legend: {
  text: "Is the person facing further serious charges that warrant higher security?",
  isPageHeading: false
  }
  },
  errorMessage: {
    text: "Select yes if the person is facing further serious charges that warrant higher security"
    } if (errors | findError('escapeFurtherCharges')),
  items: [
  {
    value: "Yes",
    text: "Yes",
    checked: data.escapeFurtherCharges === 'Yes',
    conditional: {
    html:escapeTextHtml
  }
  },
  {
    value: "No",
    checked: data.escapeFurtherCharges === 'No',
    text: "No"
  }
  ]
}) }}

{% endblock %}

{% macro headerTitle(text) %}
<div class="govuk-grid-row">
  <p class="govuk-!-margin-bottom-1">{{ text }}</p>
</div>
{% endmacro %}

{% macro headerValue(text, classes='') %}
<div class="govuk-grid-row">
  <p class="govuk-!-font-weight-bold govuk-!-margin-top-1 {{ classes }}">{{ text if text | length else '-' }}</p>
</div>
{% endmacro %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-quarter">
    <div class="photo image clickable">
      <!-- {...linkOnClick(() => onImageClick(offenderImageUrl(inmateData.get('facialImageId'))))}
       >-->
      <img alt="Offender Facial Image" src="/tasklist/images/{{ data.facialImageId if data.facialImageId else 'placeholder' }}/data" />
    </div>
  </div>
  <div class="govuk-grid-column-one-quarter">
    {{ headerTitle('Name') }}
    {{ headerValue(data.details.displayName) }}

    {{ headerTitle('NOMIS ID') }}
    {{ headerValue(data.details.offenderNo) }}

    {{ headerTitle('Date of birth') }}
    {{ headerValue(dateConverter(data.details.dateOfBirth)) }}
  </div>
  <div class="govuk-grid-column-one-quarter">
    {{ headerTitle('Location') }}
    {{ headerValue(data.details.assignedLivingUnit.description, 'govuk-!-margin-bottom-1') }}
    {{ headerValue(data.details.assignedLivingUnit.agencyName) }}

    {{ headerTitle('Nationality') }}
    {% set nationality %}
    {% for profileInformation in data.details.profileInformation %}
    {% if profileInformation.type === 'NAT' %}
    {{ profileInformation.resultValue }}
    {% endif %}
    {% endfor %}
    {% endset %}
    {{ headerValue(nationality | trim) }}

    {{ headerTitle('Type of offence(s)') }}
    {% if data.details.offence | length == 0 %}
    {{ headerValue('-') }}
    {% else %}
    {% for offence in data.details.offence %}
    {{ headerValue(offence.offenceDescription) }}
    {% endfor %}
    {% endif %}
  </div>
  <div class="govuk-grid-column-one-quarter">
    {% if data.details.sentence.homeDetentionCurfewEligibilityDate %}
    {{ headerTitle('HDC Eligibility Date') }}
    {{ headerValue(dateConverter(data.details.sentence.homeDetentionCurfewEligibilityDate)) }}
    {% endif %}
    {% if data.details.sentence.automaticReleaseDate %}
    {{ headerTitle('Automatic Release Date') }}
    {{ headerValue(dateConverter(data.details.sentence.automaticReleaseDate)) }}
    {% endif %}
    {% if data.details.sentence.conditionalReleaseDate %}
    {{ headerTitle('Conditional Release Date') }}
    {{ headerValue(dateConverter(data.details.sentence.conditionalReleaseDate)) }}
    {% endif %}
    {% if data.details.sentence.paroleEligibilityDate %}
    {{ headerTitle('Parole Eligibility Date') }}
    {{ headerValue(dateConverter(data.details.sentence.paroleEligibilityDate)) }}
    {% endif %}
    {% if data.details.sentence.nonParoleDate %}
    {{ headerTitle('Non Parole Date') }}
    {{ headerValue(dateConverter(data.details.sentence.nonParoleDate)) }}
    {% endif %}
    {% if data.details.sentence.tariffDate %}
    {{ headerTitle('ISP Tariff End Date') }}
    {{ headerValue(dateConverter(data.details.sentence.tariffDate)) }}
    {# ISP means indeterminate sentenced prisoners - instead of a sentence length, they have a "tariff", which is the
    minimum amount of time their sentence is supposed to last for, so their tariff end date is the earliest date
    they could be released #}
    {% endif %}
    {% if data.details.sentence.licenceExpiryDate %}
    {{ headerTitle('Licence Expiry Date') }}
    {{ headerValue(dateConverter(data.details.sentence.licenceExpiryDate)) }}
    {% endif %}
    {% if data.details.sentence.sentenceExpiryDate %}
    {{ headerTitle('Sentence Expiry Date') }}
    {{ headerValue(dateConverter(data.details.sentence.sentenceExpiryDate)) }}
    {% endif %}

    {{ headerTitle('Court-issued sentence') }}
    {{ headerValue(data.details.sentence.length) }}
  </div>
</div>
